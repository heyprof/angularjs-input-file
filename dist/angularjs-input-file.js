!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$q=t,this.$timeout=n,this.$element=r,this.$attrs=i}var t,n,a;return e.$inject=["$q","$timeout","$element","$attrs"],t=e,(n=[{key:"$onInit",value:function(){var e=this;this.openSelectorRegister({handler:function(){return e.openSelector()}})}},{key:"$postLink",value:function(){var e=this,t=this.$element[0].getElementsByTagName("input")[0];"false"===this.$attrs.multiple||""!==this.$attrs.multiple&&!this.$attrs.multiple||t.setAttribute("multiple",""),t.addEventListener("change",function(t){return e.onInputChange(t)},!1)}},{key:"openSelector",value:function(){this.$element.find("input")[0].click()}},{key:"onInputChange",value:function(e){var t=this,n=[],i=r(e.target.files).map(function(e){return t.$q(function(r,i){if(t.fileFormat){var a,o=new FileReader;switch(o.onabort=i,o.onerror=i,o.onload=(a={name:e.name,size:e.size,type:e.type,lastModified:e.lastModified},function(e){return t.$timeout(function(){var t={infos:a,file:e.target.result};n.push(t),r(t)})}),t.fileFormat){case"Text":o.readAsText(e);break;case"Base64":o.readAsDataURL(e);break;case"ArrayBuffer":default:o.readAsArrayBuffer(e)}}else r(e)})});return this.$q.all(i).then(function(e){t.filesLoaded({files:e})})}}])&&i(t.prototype,n),a&&i(t,a),e}();angular.module("angularjs-input-file",[]).component("inputFile",{template:'\n  <input type="file" \n         ng-attr-accept="{{ $ctrl.accept }}"\n         ng-attr-id="{{ $ctrl.inputId }}"\n         ng-disabled="$ctrl.disabled" />',controller:a,bindings:{inputId:"@",accept:"@",fileFormat:"@",fileType:"@",disabled:"<isDisabled",filesLoaded:"&",openSelectorRegister:"&"}})}]);